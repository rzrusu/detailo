server.port=8081

# --- Database Connection ---
# For local development, override these via environment variables or use identity-service-local.properties
# For Docker, use identity-service-docker.properties or environment variables
# Default values (can be overridden):
# spring.datasource.url=jdbc:postgresql://localhost:5432/identity_db
# spring.datasource.username=postgres
# spring.datasource.password=postgres
spring.datasource.driver-class-name=org.postgresql.Driver

# Connection Pool Settings (HikariCP)
spring.datasource.hikari.connection-timeout=30000
spring.datasource.hikari.maximum-pool-size=10
spring.datasource.hikari.minimum-idle=5
spring.datasource.hikari.idle-timeout=600000
spring.datasource.hikari.max-lifetime=1800000

# --- JPA & Hibernate Settings ---
# 'update' is fine for dev. It creates/alters tables based on your entities.
# Use 'validate' or 'none' in production.
spring.jpa.hibernate.ddl-auto=update
spring.jpa.properties.hibernate.dialect=org.hibernate.dialect.PostgreSQLDialect
spring.jpa.properties.hibernate.format_sql=true
spring.jpa.show-sql=true

# Eureka Configuration
# Use the environment variable EUREKA_DEFAULT_ZONE if present, otherwise fallback to localhost
eureka.client.serviceUrl.defaultZone=${EUREKA_DEFAULT_ZONE:http://localhost:8761/eureka/}
eureka.instance.prefer-ip-address=true

# Actuator
management.endpoints.web.exposure.include=health,info
